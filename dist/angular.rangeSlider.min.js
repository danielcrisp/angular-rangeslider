!function(){"use strict";var e=1===angular.version.major&&0===angular.version.minor;angular.module("ui-rangeSlider",[]).directive("rangeSlider",["$document","$filter","$log",function(n,a,i){var t=".rangeSlider",l={disabled:!1,orientation:"horizontal",step:0,decimalPlaces:0,showValues:!0,preventEqualMinMax:!1,attachHandleValues:!1},s=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup",over:"pointerdown",out:"mouseout"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",over:"MSPointerDown",out:"mouseout"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend",over:"mouseover touchstart",out:"mouseout"},r=s.start+t,o=s.move+t,d=s.end+t,u=s.over+t,m=s.out+t,c=function(e){try{return[e.clientX||e.originalEvent.clientX||e.originalEvent.touches[0].clientX,e.clientY||e.originalEvent.clientY||e.originalEvent.touches[0].clientY]}catch(n){return["x","y"]}},g=function(e){return 0>e?0:e>100?100:e},f=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},v={disabled:"=?",min:"=",max:"=",modelMin:"=?",modelMax:"=?",onHandleDown:"&",onHandleUp:"&",orientation:"@",step:"@",decimalPlaces:"@",filter:"@",filterOptions:"@",showValues:"@",pinHandle:"@",preventEqualMinMax:"@",attachHandleValues:"@",getterSetter:"@"};return e&&(v.disabled="=",v.modelMin="=",v.modelMax="="),{restrict:"A",replace:!0,template:['<div class="ngrs-range-slider">','<div class="ngrs-runner">','<div class="ngrs-handle ngrs-handle-min"><i></i></div>','<div class="ngrs-handle ngrs-handle-max"><i></i></div>','<div class="ngrs-join"></div>',"</div>",'<div class="ngrs-value-runner">','<div class="ngrs-value ngrs-value-min" ng-show="showValues"><div>{{filteredModelMin}}</div></div>','<div class="ngrs-value ngrs-value-max" ng-show="showValues"><div>{{filteredModelMax}}</div></div>',"</div>","</div>"].join(""),scope:v,link:function(e,s,v,h){function p(n){return e.getterSetter?arguments.length?e.modelMin(n):e.modelMin():arguments.length?e.modelMin=n:e.modelMin}function M(n){return e.getterSetter?arguments.length?e.modelMax(n):e.modelMax():arguments.length?e.modelMax=n:e.modelMax}function x(e){"min"===e?(angular.element(E[0]).css("display","none"),angular.element(E[1]).css("display","block")):"max"===e?(angular.element(E[0]).css("display","block"),angular.element(E[1]).css("display","none")):(angular.element(E[0]).css("display","block"),angular.element(E[1]).css("display","block"))}function b(e){e?y.addClass("ngrs-disabled"):y.removeClass("ngrs-disabled")}function w(){e.min>e.max&&V("min must be less than or equal to max"),angular.isDefined(e.min)&&angular.isDefined(e.max)&&(f(e.min)||V("min must be a number"),f(e.max)||V("max must be a number"),j=e.max-e.min,k=[e.min,e.max],H())}function H(){if(p()>M()&&(D("modelMin must be less than or equal to modelMax"),p(M())),(angular.isDefined(p())||"min"===e.pinHandle)&&(angular.isDefined(M())||"max"===e.pinHandle)){f(p())||("min"!==e.pinHandle&&D("modelMin must be a number"),p(e.min)),f(M())||("max"!==e.pinHandle&&D("modelMax must be a number"),M(e.max));var n,i,t=g((p()-e.min)/j*100),l=g((M()-e.min)/j*100);if(e.attachHandleValues&&(n=t,i=l),p(Math.max(e.min,p())),M(Math.min(e.max,M())),e.filter&&e.filterOptions)e.filteredModelMin=a(e.filter)(p(),e.filterOptions),e.filteredModelMax=a(e.filter)(M(),e.filterOptions);else if(e.filter){var s,r,o=e.filter.split(":"),d=e.filter.split(":")[0],u=o.slice().slice(1);u=u.map(function(e){return f(e)?+e:'"'==e[0]&&'"'==e[e.length-1]||"'"==e[0]&&"'"==e[e.length-1]?e.slice(1,-1):void 0}),s=u.slice(),r=u.slice(),s.unshift(p()),r.unshift(M()),e.filteredModelMin=a(d).apply(null,s),e.filteredModelMax=a(d).apply(null,r)}else e.filteredModelMin=p(),e.filteredModelMax=M();e.min===e.max&&p()==M()?(angular.element(E[0]).css(C,"0%"),angular.element(E[1]).css(C,"100%"),e.attachHandleValues&&(angular.element(q[0]).css(C,"0%"),angular.element(q[1]).css(C,"100%")),angular.element(F).css(C,"0%").css(P,"0%")):(angular.element(E[0]).css(C,t+"%"),angular.element(E[1]).css(C,l+"%"),e.attachHandleValues&&(angular.element(q[0]).css(C,n+"%"),angular.element(q[1]).css(C,i+"%"),angular.element(q[1]).css(P,"auto")),angular.element(F).css(C,t+"%").css(P,100-l+"%"),t>95&&angular.element(E[0]).css("z-index",3))}}function $(a){var i=E[a];i.bind(r+"X",function(l){var s=(0===a?"ngrs-handle-min":"ngrs-handle-max")+"-down",r=(0===a?p():M())-e.min,u=r/j*100,m=c(l),f=m,v=!1;angular.isFunction(e.onHandleDown)&&e.onHandleDown(),angular.element("body").bind("selectstart"+t,function(){return!1}),e.disabled||(z=!0,i.addClass("ngrs-down"),y.addClass("ngrs-focus "+s),angular.element("body").addClass("ngrs-touching"),n.bind(o,function(n){n.preventDefault();var t,l,s=c(n),r=e.step/j*100,o=((0===a?M():p())-e.min)/j*100;"x"!==s[0]&&(s[0]-=m[0],s[1]-=m[1],t=[f[0]!==s[0],f[1]!==s[1]],l=u+100*s[S]/(S?y.height():y.width()),l=g(l),e.preventEqualMinMax&&(0===r&&(r=1/j*100),0===a?o-=r:1===a&&(o+=r)),0===a?l=l>o?o:l:1===a&&(l=o>l?o:l),e.step>0&&100>l&&l>0&&(l=Math.round(l/r)*r),l>95&&0===a?i.css("z-index",3):i.css("z-index",""),t[S]&&l!=v&&(0===a?p(parseFloat(parseFloat(l*j/100+e.min).toFixed(e.decimalPlaces))):1===a&&M(parseFloat(parseFloat(l*j/100+e.min).toFixed(e.decimalPlaces))),e.$apply(),v=l),f=s)}).bind(d,function(){angular.isFunction(e.onHandleUp)&&e.onHandleUp(),n.off(o),n.off(d),angular.element("body").removeClass("ngrs-touching"),z=!1,i.removeClass("ngrs-down"),i.removeClass("ngrs-over"),y.removeClass("ngrs-focus "+s)}))}).on(u,function(){i.addClass("ngrs-over")}).on(m,function(){z||i.removeClass("ngrs-over")})}function V(n){throw e.disabled=!0,new Error("RangeSlider: "+n)}function D(e){i.warn(e)}var y=angular.element(s),E=[s.find(".ngrs-handle-min"),s.find(".ngrs-handle-max")],q=[s.find(".ngrs-value-min"),s.find(".ngrs-value-max")],F=s.find(".ngrs-join"),C="left",P="right",S=0,k=[0,0],j=0,z=!1;e.filteredModelMin=p(),e.filteredModelMax=M(),v.$observe("disabled",function(n){angular.isDefined(n)||(e.disabled=l.disabled),e.$watch("disabled",b)}),v.$observe("orientation",function(n){angular.isDefined(n)||(e.orientation=l.orientation);for(var a,i=e.orientation.split(" "),t=0,s=i.length;s>t;t++)i[t]="ngrs-"+i[t];a=i.join(" "),y.addClass(a),("vertical"===e.orientation||"vertical left"===e.orientation||"vertical right"===e.orientation)&&(C="top",P="bottom",S=1)}),v.$observe("step",function(n){angular.isDefined(n)||(e.step=l.step)}),v.$observe("decimalPlaces",function(n){angular.isDefined(n)||(e.decimalPlaces=l.decimalPlaces)}),v.$observe("showValues",function(n){angular.isDefined(n)?"false"===n?e.showValues=!1:e.showValues=!0:e.showValues=l.showValues}),v.$observe("pinHandle",function(n){angular.isDefined(n)&&("min"===n||"max"===n)?e.pinHandle=n:e.pinHandle=null,e.$watch("pinHandle",x)}),v.$observe("preventEqualMinMax",function(n){angular.isDefined(n)?"false"===n?e.preventEqualMinMax=!1:e.preventEqualMinMax=!0:e.preventEqualMinMax=l.preventEqualMinMax}),v.$observe("attachHandleValues",function(n){angular.isDefined(n)?"true"===n||""===n?(e.attachHandleValues=!0,s.find(".ngrs-value-runner").addClass("ngrs-attached-handles")):e.attachHandleValues=!1:e.attachHandleValues=l.attachHandleValues}),e.$watch("min",w),e.$watch("max",w),e.$watch(function(){return p()},H),e.$watch(function(){return M()},H),e.$on("$destroy",function(){y.off(t),angular.element("body").off(t),n.off(t);for(var e=0,a=E.length;a>e;e++)E[e].off(t),E[e].off(t+"X")}),y.bind("selectstart"+t,function(e){return!1}).bind("click",function(e){e.stopPropagation()}),$(0),$(1)}}}]),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()}();